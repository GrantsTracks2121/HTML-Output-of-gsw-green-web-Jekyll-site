<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">

  

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <meta name="description" content="Take a look at Your First Note to get started on your exploration.">

  <meta property="og:site_name" content="Sparks in the Dark">

  
  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>‚ú®</text></svg>">
  

 <!--  <link rel="stylesheet" href="assets/css/header-css.css"> -->
  <link rel="stylesheet" href="assets/css/style.css">

  
  <meta property="og:description" content="Take a look at Your First Note to get started on your exploration.">
  

  
  <meta property="og:title" content="Welcome! ü•¨">
  <meta property="og:type" content="article">
  

  

  
  <meta property="og:url" content="https://garden.megu.space">
  

  

  <title>
    
    Sparks in the Dark
    
  </title>
  
</head>


<body>
  <nav><div>
<!-- Header added by GSW -->

  <a class="internal-link" href="/"><b>Sparks in the Dark</b></a>
</div></nav>
  <main><section>
  <h1>Welcome! ü•¨</h1>
  <section class="callout">
	Take a look at <a href="/your-first-note.html" class="internal-link">Your First Note</a> to get started on your exploration.
</section>

<h1 id="green-web-template">Green Web Template</h1>

<p>This Jekyll template is a way to organize and publish your thoughts from <a href="https://obsidian.md/">Obsidian</a> to the web, complete with backlinks, notes graph, and wikilink support. This template was modified by <a href="https://megumi.co">Megumi Tanaka</a> in 2021. Here's <a href="https://garden.megu.space/your-first-note.html#installation" class="internal-link">how to install this template</a>. View this template on <a href="https://github.com/meewgumi/green-web-template">Github</a>.</p>

<p>Based on the <a href="https://github.com/maximevaillancourt/digital-garden-jekyll-template">Jekyll digital garden template</a> by Maxime Vaillancourt.</p>

<h2 id="how-is-this-different">How is this different?</h2>

<h3 id="new-features">New Features</h3>

<ul>
  <li><strong>Obsidian embeds!</strong> Yes, images formatted <code class="language-plaintext highlighter-rouge">![[like this]]</code> will render automatically with the correct asset path!</li>
  <li><strong>Categories!</strong> (not clickable yet)</li>
  <li><strong>Emoji favicons!</strong> Configure at site level or page level with <code class="language-plaintext highlighter-rouge">favicon:</code> variable</li>
  <li><strong>Archive Page!</strong> An index of all notes, date updated, category, and excerpt.</li>
  <li><strong>Obsidian Templates!</strong> Easily create a new note or page with the proper front matter variables.</li>
  <li><strong>Green Bok Choy Theme!</strong> This is the public version of the theme I'll be using for my personal site <a href="https://megu.space">megu.space</a></li>
</ul>

<h2 id="what-makes-this-a-green-template">What makes this a green template?</h2>

<ol>
  <li>ü•¨ The theme is literally <strong>green</strong></li>
  <li>‚ôªÔ∏è Webhost and deployments run on renewable energy‚Äî<strong>green web hosting</strong>!</li>
  <li>üöÄ Jekyll is a flat file system, meaning <strong>pages load faster</strong> with less demand on server resources</li>
  <li>üñ•Ô∏è  Obsidian is an offline Markdown editor. Your edits happen on your local computer instead of using cloud autosave functions, so writing content has a <strong>reduced computing cost</strong></li>
  <li>ü™¥ Borrowing from gardening as a metaphor, this publishing system is built with the principles of <a href="https://github.com/MaggieAppleton/digital-gardeners">digital gardening</a> in mind.</li>
</ol>

<h2 id="why-not-netlify">Why not Netlify?</h2>

<p>I'm on a mission to build <strong>carbon-neutral websites</strong>, and unfortunately Netlify hasn't made any statements on this front. I'm in the process of switching all my web projects to <a href="https://krystal.uk/green">Krystal UK</a>. Even though Netlify is really easy to use and I love their mission to make a faster, flat-file web, I'm going to go about it in a different way.</p>

<h3 id="green-web-hosting">Green Web Hosting</h3>

<p><a href="https://krystal.uk/green">Krystal UK</a> is powered by 100% renewables, meaning üåä hydro, üòé solar, and üçÉ wind powered energy. On top of that, they invest in tree replanting and other environmental campaigns.</p>

<p><a href="https://www.deployhq.com/r/nx7qct">DeployHQ</a> is owned by Krystal UK and runs on the same 100% renewable cloud services. It's very easy to connect Git Repositories to any server and automatically deploy.</p>

<p>Dreamhost is technically <a href="https://www.dreamhost.com/company/we-are-green/">carbon neutral</a> through purchasing carbon credits and sourcing some of its energy from renewable sources. I use them for domain registration.</p>

<p>Github hasn't made a statement either, but parent company Microsoft's Azure Cloud runs on <a href="https://www.wired.com/story/amazon-google-microsoft-green-clouds-and-hyperscale-data-centers/">60% renewable energy</a> and is committed to <a href="https://azure.microsoft.com/en-us/global-infrastructure/sustainability/?cdn=disable#overview">100% renewables by 2025</a>.</p>

<h3 id="but-you-can-still-use-netlify">But you can still use Netlify</h3>

<p>If you want to use this template on Netlify, just remove <code class="language-plaintext highlighter-rouge">.htaccess</code> and delete it from <code class="language-plaintext highlighter-rouge">_config.yml</code></p>

<h3 id="more-great-nerdy-changes">More great nerdy changes</h3>

<ul>
  <li>New Obsidian Embed plugin also handles standard MD Images and adds path to Jekyll assets folder, including <code class="language-plaintext highlighter-rouge">title</code> and <code class="language-plaintext highlighter-rouge">alt</code>.  New plugin is called <code class="language-plaintext highlighter-rouge">obsidian_images_generator.rb</code></li>
  <li>Brackets inside code blocks are now <code class="language-plaintext highlighter-rouge">[[ignored]]</code> by the bidirectional link generator! Check my updates to <code class="language-plaintext highlighter-rouge">bidirectional_links_generator.rb</code> regex</li>
  <li>Automatic Title Generation from <code class="language-plaintext highlighter-rouge">title:</code> variable! Renders as <code class="language-plaintext highlighter-rouge">&lt;h1&gt;</code> heading at the top of the page, so you don't need to type it manually for <code class="language-plaintext highlighter-rouge">_pages</code> anymore.</li>
  <li>Permalink <code class="language-plaintext highlighter-rouge">/:slug</code> by default for all notes and pages, so you don't need to specify <code class="language-plaintext highlighter-rouge">permalink:</code> anymore! By default, all pages will be built in the root directory.</li>
  <li>Responsive code blocks! Enabled horizontal scroll for codeblocks on narrow browsers.</li>
  <li>Updated metadata in <code class="language-plaintext highlighter-rouge">head.html</code> with way more conditional logic based on site configuration, stripped extra whitespace from descriptions, and made sure absolute URLs for OpenGraph are rendering properly</li>
  <li>Notes graph uses primary theme color variable from <code class="language-plaintext highlighter-rouge">style.css</code></li>
  <li>Privacy focused. No external calls to scripts, instead they're all saved in <code class="language-plaintext highlighter-rouge">assets/js</code></li>
</ul>

<p>See more about theme updates at <a href="https://garden.megu.space/style-theme.html" class="internal-link">Style &amp; Theme</a>.</p>

<h3 id="phppython-server-support">PHP/Python Server Support</h3>

<p>Powered by: Github ‚Äì&gt; <a href="https://www.deployhq.com/r/nx7qct">DeployHQ</a> ‚Äì&gt; Dreamhost</p>

<p>You can use this with any cheap Shared Hosting plan, since they mostly use LAMP servers (Linux, Apache, MySQL, PHP/Python/Perl).</p>

<p>DeployHQ (free for 1 project) builds and serves this Jekyll site to the server via <code class="language-plaintext highlighter-rouge">ssh</code> or <code class="language-plaintext highlighter-rouge">ftp</code>. You can replace the server with whatever LAMP setup you want. I've configured <code class="language-plaintext highlighter-rouge">.htaccess</code> so that this template will work without the need for any extra configuration.</p>

<p>Here are the nerdy details:</p>

<ul>
  <li>Created <code class="language-plaintext highlighter-rouge">.htaccess</code> file for custom 404 page routing</li>
  <li>Enabled <code class="language-plaintext highlighter-rouge">.html</code> extension by default and added throughout site with conditional statements
		- If you want to disable this, you can do so in <code class="language-plaintext highlighter-rouge">_config.yml</code>, but you should also set your <code class="language-plaintext highlighter-rouge">.htaccess</code> to allow your server to recognize pages without the extension. I've set up a <code class="language-plaintext highlighter-rouge">link rel="canonical"</code> to show once you disable this feature</li>
  <li>Timezones in <code class="language-plaintext highlighter-rouge">_config.yml</code> so the remote build process adds the right timestamp for the Last Modified plugin</li>
</ul>

<h2 id="why-not-wordpress">Why not Wordpress?</h2>

<p>You might be wondering why I don't just use PHP based software on a PHP server. Well, Wordpress is a database system, so each post gets saved to a MySQL database and requires more computing power than a flat file system like Jekyll.</p>

<p>Wordpress also hinders my ability to write‚Äînot only because the editor is slow, but also the emotion I get when I open up a draft. Something about the process actually dampens my motivation to write down an idea.</p>

<p>I'm teaching myself Jekyll, Ruby, and Liquid to modify this digital garden template because I believe it's the best organization system for the way my mind works. And it makes me excited to open Obsidian and write things!</p>

<p>Read more about digital gardening on <a href="https://github.com/MaggieAppleton/digital-gardeners">Maggie Appleton's repo</a>.</p>

<h1 id="template-quirks">Template Quirks</h1>

<p>Interesting errors I've encountered:</p>

<ul>
  <li>Your file path must not have any spaces in it or your <code class="language-plaintext highlighter-rouge">bundle</code> command will fail!</li>
  <li>Plugins are not compatible with Github Pages instance of Jekyll, so you have to build your site locally and reconfigure output to <code class="language-plaintext highlighter-rouge">docs</code> folder. I have a similar setup in <a href="https://github.com/meewgumi/digital-garden-ghpages-template">this github pages repository</a></li>
  <li>This template only works for apex and subdomains. If you build your site in a <code class="language-plaintext highlighter-rouge">/directory</code>, you may have to reconfigure the relative links throughout the template.</li>
  <li><del>Bidirectional link generator converts double bracket links inside codeblocks too</del> <strong>Fixed!</strong></li>
  <li>Does not yet support Obsidian Heading Links in this format <code class="language-plaintext highlighter-rouge">[[page#Heading]]</code>, although each heading automatically generates an <code class="language-plaintext highlighter-rouge">id=</code> so you can create anchor links manually with HTML</li>
  <li>Emoji is not unicode, so they might not display properly in all browsers and operating systems</li>
  <li>Footnotes automatically open in new tab, even if they're internal links</li>
  <li>D3.js graph zooms when you scroll, so I disabled the graph by default</li>
  <li>Excerpts on archive page truncate weirdly. I wish there was a way to exclude headings. There probably is if I get deeper into Nokogiri documentation.</li>
</ul>

<h1 id="license">License</h1>

<p><a href="https://github.com/maximevaillancourt/digital-garden-jekyll-template">Original Jekyll template</a> by Maxime Vaillancourt is available under the <a href="LICENSE.md">MIT license</a>. <a href="https://ko-fi.com/maximevaillancourt">Buy Maxime a coffee</a>! ‚òïÔ∏è</p>

<p>This "Green" version by Megumi Tanaka is <a href="https://github.com/meewgumi/green-web-template">publicly available on Github</a> and you are free to edit as you wish! <a href="https://www.buymeacoffee.com/megumi">Buy Megumi a tea</a>! üçµ</p>


</section>
<!-- visual graph section
<section></section>
 --></main>
  <footer><p>This is the footer. Here's the <a class="internal-link" href="about.html">About</a> page and the <a class="internal-link" href="archive.html">Archive</a>.</p>
</footer>

  <!-- That file is not particularly elegant. This will need a refactor at some point. -->
<style>
  content a.internal-link {
    border-color: #8b88e6;
    background-color: #efefff;
  }

  #tooltip-wrapper {
    background: white;
    padding: 1em;
    border: 1px solid #ddd;
    border-radius: 4px;
    overflow: hidden;
    position: absolute;
    width: 400px;
    height: 250px;
    font-size: 0.8em;
    box-shadow: 0 5px 10px rgba(0,0,0,0.1);
    opacity: 0;
    transition: opacity 100ms;
  }

  #tooltip-wrapper:after {
		content: "";
		position: absolute;
		z-index: 1;
		bottom: 0;
		left: 0;
		pointer-events: none;
		background-image: linear-gradient(to bottom, rgba(255,255,255, 0), rgba(255,255,255, 1) 90%);
		width: 100%;
		height: 75px;
  }
</style>

<div style="opacity: 0; display: none;" id='tooltip-wrapper'>
  <div id='tooltip-content'>
  </div>
</div>

<iframe style="display: none; height: 0; width: 0;" id='link-preview-iframe' src="">
</iframe>

<script>
  var opacityTimeout;
  var contentTimeout;
  var transitionDurationMs = 100;

  var iframe = document.getElementById('link-preview-iframe')
  var tooltipWrapper = document.getElementById('tooltip-wrapper')
  var tooltipContent = document.getElementById('tooltip-content')

  function hideTooltip() {
    opacityTimeout = setTimeout(function() {
      tooltipWrapper.style.opacity = 0;
      contentTimeout = setTimeout(function() {
        tooltipContent.innerHTML = '';
        tooltipWrapper.style.display = 'none';
      }, transitionDurationMs + 1);
    }, transitionDurationMs)
  }

  function showTooltip(event) {
    var elem = event.target;
    var elem_props = elem.getClientRects()[elem.getClientRects().length - 1];
    var top = window.pageYOffset || document.documentElement.scrollTop

    if (event.target.host === window.location.host) {
      iframe.src = event.target.href
      iframe.onload = function() {
        tooltipContentHtml = ''
        tooltipContentHtml += '<div style="font-weight: bold;">' + iframe.contentWindow.document.querySelector('h1').innerHTML + '</div>'
        tooltipContentHtml += iframe.contentWindow.document.querySelector('content').innerHTML

        tooltipContent.innerHTML = tooltipContentHtml

        tooltipWrapper.style.display = 'block';
        setTimeout(function() {
          tooltipWrapper.style.opacity = 1;
        }, 1)
      }

      tooltipWrapper.style.left = elem_props.left - (tooltipWrapper.offsetWidth / 2) + (elem_props.width / 2) + "px";
      if ((window.innerHeight - elem_props.top) < (tooltipWrapper.offsetHeight)) {
          tooltipWrapper.style.top = elem_props.top + top - tooltipWrapper.offsetHeight - 10 + "px";
      } else if ((window.innerHeight - elem_props.top) > (tooltipWrapper.offsetHeight)) {
          tooltipWrapper.style.top = elem_props.top + top + 35 + "px";
      }

      if ((elem_props.left + (elem_props.width / 2)) < (tooltipWrapper.offsetWidth / 2)) {
          tooltipWrapper.style.left = "10px";
      } else if ((document.body.clientWidth - elem_props.left - (elem_props.width / 2)) < (tooltipWrapper.offsetWidth / 2)) {
          tooltipWrapper.style.left = document.body.clientWidth - tooltipWrapper.offsetWidth - 20 + "px";
      }
    }
  }

  function setupListeners(linkElement) {
    linkElement.addEventListener('mouseleave', function(_event) {
      hideTooltip();
    });

    tooltipWrapper.addEventListener('mouseleave', function(_event) {
      hideTooltip();
    });

    linkElement.addEventListener('mouseenter', function(event) {
      clearTimeout(opacityTimeout);
      clearTimeout(contentTimeout);
      showTooltip(event);
    });

    tooltipWrapper.addEventListener('mouseenter', function(event) {
      clearTimeout(opacityTimeout);
      clearTimeout(contentTimeout);
    });
  }

  document.querySelectorAll('content a').forEach(setupListeners);
</script>

</body>

</html>
